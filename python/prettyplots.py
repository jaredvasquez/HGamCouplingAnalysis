from ROOT import *
from array import array

def setPalette(name=None, ncontours=999):
  #Set a color palette from a given RGB list

  if name == "gray" or name == "grayscale":
    stops = [0.00, 0.34, 0.61, 0.84, 1.00]
    red   = [1.00, 0.84, 0.61, 0.34, 0.00]
    green = [1.00, 0.84, 0.61, 0.34, 0.00]
    blue  = [1.00, 0.84, 0.61, 0.34, 0.00]

  elif name == "rainbow":
    stops = [ 0.00, 0.10, 0.25, 0.45, 0.60, 0.75, 1.00 ]
    red   = [ 1.00, 0.00, 0.00, 0.00, 0.97, 0.97, 0.10 ]
    green = [ 1.00, 0.97, 0.30, 0.40, 0.97, 0.00, 0.00 ]
    blue  = [ 1.00, 0.97, 0.97, 0.00, 0.00, 0.00, 0.00 ]

  elif name == "sequentialGB":
    #stops = [0.000, 0.125, 0.250, 0.375, 0.500, 0.625, 0.750, 0.875, 1.000]
    #red   = [1.000, 0.878, 0.800, 0.659, 0.482, 0.306, 0.169, 0.031, 0.031]
    #green = [1.000, 0.953, 0.922, 0.867, 0.800, 0.702, 0.549, 0.408, 0.251]
    #blue  = [1.000, 0.859, 0.773, 0.710, 0.769, 0.827, 0.745, 0.675, 0.506]

    stops = [0.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0]
    red   = [1.0, 0.969, 0.8, 0.659, 0.482, 0.306, 0.169, 0.169, 0.031, 0.031, 0.031]
    green = [1.0, 0.988, 0.922, 0.867, 0.8, 0.702, 0.549, 0.408, 0.251, 0.188, 0.102]
    blue  = [1.0, 0.859, 0.773, 0.71, 0.769, 0.827, 0.745, 0.675, 0.506, 0.42, 0.282]

  elif name == "negative":
    stops = [ 0.00, 0.50, 1.00 ]
    red   = [ 0.00, 1.00, 1.00 ]
    green = [ 0.00, 1.00, 0.00 ]
    blue  = [ 0.00, 1.00, 0.00 ]

  elif name == "negblue":
    stops = [ 0.00, 0.50, 1.00 ]
    red   = [ 0.20, 1.00, 1.00 ]
    green = [ 0.20, 1.00, 0.20 ]
    blue  = [ 1.00, 1.00, 0.20 ]

  elif name == "rainbow2":
    stops = [0.00, 0.34, 0.61, 0.84, 1.00]
    red   = [0.00, 0.00, 0.87, 1.00, 0.80]
    green = [0.00, 0.81, 1.00, 0.20, 0.00]
    blue  = [0.80, 1.00, 0.12, 0.00, 0.00]

  else:
    stops = [0.00, 0.34, 0.61, 0.84, 1.00]
    red   = [0.00, 0.00, 0.87, 1.00, 0.51]
    green = [0.00, 0.81, 1.00, 0.20, 0.00]
    blue  = [0.51, 1.00, 0.12, 0.00, 0.00]

  s = array('d', stops)
  r = array('d', red)
  g = array('d', green)
  b = array('d', blue)

  npoints = len(s)
  TColor.CreateGradientColorTable(npoints, s, r, g, b, ncontours)
  gStyle.SetNumberContours(ncontours)
